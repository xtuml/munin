{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "$id": "job-test-specification-schema.json",
  "title": "Job Test Specification",
  "description": "Allows the definition of the events that are in a job run that is to be executed by the AE Simulator.",
  "type": "object",
  "properties": {
    "JobSpecName": {
      "description": "The name of the test job specification that shall be executed in the test.",
      "type": "string"
    },
    "EventDefinition": {
      "description": "An array of events that will be generated for this job. The following provides an explanation of the json elements in an event.",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "EventId": {
            "description": "A unique identifier for this event specification in the test job specification.",
            "type": "string"
          },
          "EventName": {
            "description": "The name of the event that is to be generated and presented to the protocol processor.",
            "type": "string"
          },
          "NodeName": {
            "description": "The name of the node that is responsible for generating the event.",
            "type": "string"
          },
          "ApplicationName": {
            "description": "The name of the application that generated the event.",
            "type": "string"          },
          "DispatchDelay": {
            "description": "The amount of time that the simulator should wait before dispatching the event on a test run for this job specification.",
            "type": "string",
            "format": "duration"

          },
          "SequenceStart": {
            "description": "Indicates if this is the first event in a sequence of events. If so there will not be a previous event definition id.",
            "type": "string"
          },
          "PreviousEventId": {
            "description": "This is the previous event definition id e.g. in this event definition with an id of 2 the previous event definition is 1.",
            "type": "string"
          },
          "EventData": {
            "description": "An array of event data that should be generated by the simulator for the event. The following provides an explanation of the json elements in an event data.",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "DataName": {
                  "description": "The name of the event data e.g., PersistentInvariant.",
                  "type": "string"
                },
                "DataValue": {
                  "description": "The value of the data that is to be supplied for the event data e.g. PersistentInvariant : someDataValue",
                  "type": "string"
                }
              },
              "required": [
                "DataName",
                "DataValue"
              ]
            }
          }
        },
        "required": [
          "EventId",
          "EventName",
          "NodeName",
          "ApplicationName",
          "DispatchDelay",
          "SequenceStart",
          "PreviousEventId"
        ]
      }
    }
  }
}
